<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>블로그 관리자 | 클러스터용인 경남아너스빌</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', '맑은 고딕', sans-serif;
            background: #f8f9fa;
            color: #333;
        }

        .header {
            background: #1a472a;
            color: white;
            padding: 20px 0;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .admin-panel {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #1a472a;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ffd700;
        }

        .form-group textarea {
            height: 400px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }

        .btn {
            background: #1a472a;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #2c5530;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .toolbar {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .toolbar button {
            padding: 8px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .toolbar button:hover {
            background: #0056b3;
        }

        .preview-area {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            background: white;
            min-height: 200px;
        }

        .posts-list {
            margin-top: 30px;
        }

        .post-item {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .post-info h3 {
            color: #1a472a;
            margin-bottom: 5px;
        }

        .post-meta {
            color: #666;
            font-size: 14px;
        }

        .post-actions {
            display: flex;
            gap: 10px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 14px;
        }

        .seo-tips {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .seo-tips h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .seo-tips ul {
            margin-left: 20px;
            color: #856404;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .admin-panel {
                padding: 20px;
            }

            .toolbar {
                justify-content: center;
            }

            .post-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .post-actions {
                margin-top: 15px;
                width: 100%;
                justify-content: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🏢 클러스터용인 경남아너스빌 블로그 관리</h1>
        <p>SEO 최적화된 부동산 정보 블로그</p>
    </div>

    <div class="container">
        <div class="admin-panel">
            <h2>📝 새 블로그 포스트 작성</h2>

            <div class="seo-tips">
                <h4>📊 SEO 최적화 팁</h4>
                <ul>
                    <li><strong>제목</strong>: 검색 키워드 포함 (용인, 양지지구, 반도체클러스터 등)</li>
                    <li><strong>설명</strong>: 140-160자 내외로 핵심 키워드 포함</li>
                    <li><strong>내용</strong>: H2, H3 소제목 활용, 자연스럽게 "클러스터용인 경남아너스빌" 언급</li>
                    <li><strong>키워드</strong>: 콤마로 구분하여 5-10개 입력</li>
                </ul>
            </div>

            <form id="blogForm">
                <div class="form-group">
                    <label for="title">📌 제목</label>
                    <input type="text" id="title" name="title" placeholder="예: 용인 양지지구 최신 개발 소식 2025" required>
                </div>

                <div class="form-group">
                    <label for="description">📄 설명 (SEO 메타 설명)</label>
                    <textarea id="description" name="description" rows="3" placeholder="용인 양지지구의 최신 개발 소식을 전해드립니다. 6500세대 미니신도시와 반도체 클러스터 연계 정보를 확인하세요." maxlength="160"></textarea>
                </div>

                <div class="form-group">
                    <label for="keywords">🔍 키워드 (콤마로 구분)</label>
                    <input type="text" id="keywords" name="keywords" placeholder="용인, 양지지구, 반도체클러스터, 클러스터용인, 경남아너스빌">
                </div>

                <div class="form-group">
                    <label for="category">📂 카테고리</label>
                    <select id="category" name="category">
                        <option value="development">용인 개발 소식</option>
                        <option value="traffic">교통 인프라</option>
                        <option value="investment">투자 정보</option>
                        <option value="cluster">반도체 클러스터</option>
                        <option value="lifestyle">생활 정보</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="content">✍️ 내용</label>

                    <div class="toolbar">
                        <button type="button" onclick="insertText('**', '**')">굵게</button>
                        <button type="button" onclick="insertText('## ', '')">제목 H2</button>
                        <button type="button" onclick="insertText('### ', '')">제목 H3</button>
                        <button type="button" onclick="insertText('- ', '')">목록</button>
                        <button type="button" onclick="insertText('[링크텍스트](URL)', '')">링크</button>
                        <button type="button" onclick="insertCTA()">CTA 버튼</button>
                        <button type="button" onclick="insertHighlight()">하이라이트</button>
                        <button type="button" onclick="previewPost()">미리보기</button>
                    </div>

                    <textarea id="content" name="content" placeholder="여기에 마크다운 형식으로 내용을 작성하세요...

예시:
## 🏗️ 용인 양지지구 개발 현황

용인 양지지구가 **6500세대 규모의 미니신도시**로 개발되고 있습니다.

### 🎯 주요 특징
- 반도체 클러스터와 연계 개발
- 프리미엄 주거단지 조성
- 우수한 교통 접근성

**클러스터용인 경남아너스빌**에서 이 모든 혜택을 누리실 수 있습니다.

👉 [분양 문의하기](../final-version.html)"></textarea>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 30px;">
                    <button type="button" class="btn" onclick="savePost()">💾 저장하기</button>
                    <button type="button" class="btn btn-secondary" onclick="previewPost()">👁️ 미리보기</button>
                    <button type="button" class="btn btn-secondary" onclick="clearForm()">🗑️ 초기화</button>
                </div>
            </form>

            <div id="preview" class="preview-area" style="display: none;">
                <h3>📱 미리보기</h3>
                <div id="previewContent"></div>
            </div>
        </div>

        <div class="posts-list">
            <h2>📚 작성된 포스트 목록</h2>
            <div id="postsList">
                <div class="post-item">
                    <div class="post-info">
                        <h3>용인 양지지구 개발 현황 2025 | 6500세대 미니신도시 완전 분석</h3>
                        <div class="post-meta">작성일: 2025-09-21 | 카테고리: 용인 개발 소식</div>
                    </div>
                    <div class="post-actions">
                        <button class="btn btn-small" onclick="editPost('yongin-yangji-development-2025')">수정</button>
                        <button class="btn btn-small" onclick="viewPost('yongin-yangji-development-2025')">보기</button>
                    </div>
                </div>

                <div class="post-item">
                    <div class="post-info">
                        <h3>반도체 클러스터가 용인 부동산에 미치는 영향</h3>
                        <div class="post-meta">작성일: 2025-09-21 | 카테고리: 반도체 클러스터</div>
                    </div>
                    <div class="post-actions">
                        <button class="btn btn-small" onclick="editPost('semiconductor-cluster-real-estate-impact')">수정</button>
                        <button class="btn btn-small" onclick="viewPost('semiconductor-cluster-real-estate-impact')">보기</button>
                    </div>
                </div>

                <div class="post-item">
                    <div class="post-info">
                        <h3>용인 교통 호재 정리 2025 | GTX, 고속도로, 지하철 완전 분석</h3>
                        <div class="post-meta">작성일: 2025-09-21 | 카테고리: 교통 인프라</div>
                    </div>
                    <div class="post-actions">
                        <button class="btn btn-small" onclick="editPost('yongin-traffic-infrastructure-2025')">수정</button>
                        <button class="btn btn-small" onclick="viewPost('yongin-traffic-infrastructure-2025')">보기</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 텍스트 삽입 함수
        function insertText(before, after) {
            const textarea = document.getElementById('content');
            const start = textarea.selectionStart;
            const end = textarea.selectionEnd;
            const selectedText = textarea.value.substring(start, end);
            const replacement = before + selectedText + after;

            textarea.value = textarea.value.substring(0, start) + replacement + textarea.value.substring(end);
            textarea.focus();
            textarea.setSelectionRange(start + before.length, start + before.length + selectedText.length);
        }

        // CTA 버튼 삽입
        function insertCTA() {
            const ctaText = `
## 🏆 클러스터용인 경남아너스빌
반도체 클러스터와 함께하는 프리미엄 아파트

👉 [분양 정보 확인하기](../final-version.html)

📞 문의: **1668-5257**
💬 [카톡 문의](https://open.kakao.com/o/sen4dWJh)
`;
            insertText(ctaText, '');
        }

        // 하이라이트 박스 삽입
        function insertHighlight() {
            const highlightText = `
> **💡 핵심 포인트:**
> 여기에 중요한 정보를 입력하세요
`;
            insertText(highlightText, '');
        }

        // 미리보기 함수
        function previewPost() {
            const title = document.getElementById('title').value;
            const content = document.getElementById('content').value;
            const preview = document.getElementById('preview');
            const previewContent = document.getElementById('previewContent');

            if (!title || !content) {
                alert('제목과 내용을 입력해주세요.');
                return;
            }

            // 간단한 마크다운 변환
            let htmlContent = content
                .replace(/## (.*)/g, '<h2 style="color: #1a472a; margin: 20px 0 10px 0;">$1</h2>')
                .replace(/### (.*)/g, '<h3 style="color: #2c5530; margin: 15px 0 8px 0;">$1</h3>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/- (.*)/g, '<li>$1</li>')
                .replace(/👉 \[(.*?)\]\((.*?)\)/g, '<a href="$2" style="background: #ffd700; color: #1a472a; padding: 8px 15px; border-radius: 5px; text-decoration: none; font-weight: bold;">👉 $1</a>')
                .replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" style="color: #007bff;">$1</a>')
                .replace(/\n/g, '<br>');

            previewContent.innerHTML = `
                <h1 style="color: #1a472a; margin-bottom: 20px;">${title}</h1>
                <div style="line-height: 1.8;">${htmlContent}</div>
            `;

            preview.style.display = 'block';
            preview.scrollIntoView({ behavior: 'smooth' });
        }

        // 포스트 저장 함수
        function savePost() {
            const title = document.getElementById('title').value;
            const description = document.getElementById('description').value;
            const keywords = document.getElementById('keywords').value;
            const category = document.getElementById('category').value;
            const content = document.getElementById('content').value;

            if (!title || !description || !content) {
                alert('제목, 설명, 내용은 필수 입력 항목입니다.');
                return;
            }

            // 파일명 생성 (제목을 기반으로)
            const fileName = title.toLowerCase()
                .replace(/[^a-z0-9가-힣\s]/g, '')
                .replace(/\s+/g, '-')
                .substring(0, 50);

            const postData = {
                title: title,
                description: description,
                keywords: keywords,
                category: category,
                content: content,
                fileName: fileName,
                date: new Date().toISOString().split('T')[0]
            };

            // 로컬 스토리지에 저장
            const posts = JSON.parse(localStorage.getItem('blogPosts') || '[]');
            posts.push(postData);
            localStorage.setItem('blogPosts', JSON.stringify(posts));

            // HTML 파일 생성 안내
            alert(`포스트가 저장되었습니다!

파일명: ${fileName}.html

이제 다음 단계를 진행하세요:
1. 브라우저 개발자 도구(F12)를 열어주세요
2. Console 탭에서 아래 코드를 실행하세요:

generateHTMLFile('${fileName}');

3. 생성된 HTML을 복사하여 /blog/${fileName}.html 파일로 저장하세요`);

            // 폼 초기화
            clearForm();
            loadPosts();
        }

        // HTML 파일 생성 함수 (콘솔에서 실행)
        window.generateHTMLFile = function(fileName) {
            const posts = JSON.parse(localStorage.getItem('blogPosts') || '[]');
            const post = posts.find(p => p.fileName === fileName);

            if (!post) {
                console.log('포스트를 찾을 수 없습니다.');
                return;
            }

            const htmlTemplate = `<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${post.title}</title>
    <meta name="description" content="${post.description}">
    <meta name="keywords" content="${post.keywords}">
    <meta property="og:title" content="${post.title}">
    <meta property="og:description" content="${post.description}">
    <meta property="og:image" content="../crawled-images/Generated Image September 21, 2025 - 2_14PM.png">
    <link rel="canonical" href="https://simple-honorsville.vercel.app/blog/${fileName}.html">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Malgun Gothic', '맑은 고딕', sans-serif; line-height: 1.8; color: #333; background: #f8f9fa; }
        .container { max-width: 800px; margin: 0 auto; background: white; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
        .header { background: #1a472a; color: white; padding: 20px; text-align: center; }
        .breadcrumb { padding: 15px 20px; background: #e9ecef; font-size: 14px; color: #666; }
        .breadcrumb a { color: #007bff; text-decoration: none; }
        .article { padding: 30px; }
        .article h1 { font-size: 28px; color: #1a472a; margin-bottom: 20px; line-height: 1.4; }
        .meta { color: #666; font-size: 14px; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
        .article h2 { color: #1a472a; font-size: 22px; margin: 30px 0 15px 0; padding-left: 10px; border-left: 4px solid #ffd700; }
        .article h3 { color: #2c5530; font-size: 18px; margin: 25px 0 12px 0; }
        .article p { margin-bottom: 18px; text-align: justify; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>클러스터용인 경남아너스빌 블로그</h1>
        </div>

        <div class="breadcrumb">
            <a href="../final-version.html">홈</a> > <a href="../blog/">블로그</a> > ${post.category}
        </div>

        <article class="article">
            <h1>${post.title}</h1>
            <div class="meta">
                <strong>발행일:</strong> ${post.date} | <strong>카테고리:</strong> ${post.category}
            </div>
            <div>${post.content.replace(/\n/g, '<br>')}</div>
        </article>
    </div>
</body>
</html>`;

            console.log('=== HTML 파일 내용 (복사해서 사용하세요) ===');
            console.log(htmlTemplate);
            console.log('=== 여기까지 복사 ===');
        };

        // 폼 초기화
        function clearForm() {
            document.getElementById('blogForm').reset();
            document.getElementById('preview').style.display = 'none';
        }

        // 포스트 목록 로드
        function loadPosts() {
            const posts = JSON.parse(localStorage.getItem('blogPosts') || '[]');
            const postsList = document.getElementById('postsList');

            posts.forEach(post => {
                const postItem = document.createElement('div');
                postItem.className = 'post-item';
                postItem.innerHTML = `
                    <div class="post-info">
                        <h3>${post.title}</h3>
                        <div class="post-meta">작성일: ${post.date} | 카테고리: ${post.category}</div>
                    </div>
                    <div class="post-actions">
                        <button class="btn btn-small" onclick="editPost('${post.fileName}')">수정</button>
                        <button class="btn btn-small" onclick="generateHTMLFile('${post.fileName}')">HTML 생성</button>
                    </div>
                `;
                postsList.appendChild(postItem);
            });
        }

        // 포스트 보기
        function viewPost(fileName) {
            window.open(`/blog/${fileName}.html`, '_blank');
        }

        // 포스트 수정 (기존 파일)
        function editPost(fileName) {
            alert('기존 포스트 수정 기능은 개발 중입니다.');
        }

        // 페이지 로드 시 실행
        document.addEventListener('DOMContentLoaded', function() {
            loadPosts();
        });
    </script>
</body>
</html>